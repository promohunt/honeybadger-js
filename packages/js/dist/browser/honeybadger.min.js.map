{"version":3,"file":"honeybadger.min.js","sources":["../../../core/node_modules/stacktrace-parser/dist/stack-trace-parser.esm.js","../../../core/build/src/util.js","../../../core/build/src/store.js","../../../core/node_modules/json-nd/dist/module/index.js","../../../core/build/src/defaults.js","../../../core/build/src/throttled_events_logger.js","../../../core/build/src/client.js","../../../core/build/src/types.js","../../../core/build/src/index.js","../../build/src/browser/util.js","../../build/src/browser/integrations/onerror.js","../../build/src/browser/integrations/onunhandledrejection.js","../../build/src/browser/integrations/breadcrumbs.js","../../build/src/browser/integrations/events.js","../../build/src/browser/integrations/timers.js","../../build/src/browser/integrations/event_listeners.js","../../build/src/browser/transport.js","../../build/src/browser.js"],"sourcesContent":["var UNKNOWN_FUNCTION = '<unknown>';\n/**\n * This parses the different stack traces and puts them into one format\n * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)\n */\n\nfunction parse(stackString) {\n  var lines = stackString.split('\\n');\n  return lines.reduce(function (stack, line) {\n    var parseResult = parseChrome(line) || parseWinjs(line) || parseGecko(line) || parseNode(line) || parseJSC(line);\n\n    if (parseResult) {\n      stack.push(parseResult);\n    }\n\n    return stack;\n  }, []);\n}\nvar chromeRe = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/|[a-z]:\\\\|\\\\\\\\).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar chromeEvalRe = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nfunction parseChrome(line) {\n  var parts = chromeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n  var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n  var submatch = chromeEvalRe.exec(parts[2]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1]; // url\n\n    parts[3] = submatch[2]; // line\n\n    parts[4] = submatch[3]; // column\n  }\n\n  return {\n    file: !isNative ? parts[2] : null,\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: isNative ? [parts[2]] : [],\n    lineNumber: parts[3] ? +parts[3] : null,\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar winjsRe = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseWinjs(line) {\n  var parts = winjsRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar geckoRe = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar geckoEvalRe = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nfunction parseGecko(line) {\n  var parts = geckoRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n  var submatch = geckoEvalRe.exec(parts[3]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1];\n    parts[4] = submatch[2];\n    parts[5] = null; // no column when eval\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: parts[2] ? parts[2].split(',') : [],\n    lineNumber: parts[4] ? +parts[4] : null,\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar javaScriptCoreRe = /^\\s*(?:([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;\n\nfunction parseJSC(line) {\n  var parts = javaScriptCoreRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[4],\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar nodeRe = /^\\s*at (?:((?:\\[object object\\])?[^\\\\/]+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseNode(line) {\n  var parts = nodeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nexport { parse };\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowserConfig = exports.clone = exports.formatCGIData = exports.filterUrl = exports.filter = exports.generateStackTrace = exports.endpoint = exports.instrumentConsole = exports.instrument = exports.isErrorObject = exports.makeNotice = exports.logger = exports.sanitize = exports.shallowClone = exports.runAfterNotifyHandlers = exports.runBeforeNotifyHandlers = exports.getSourceForBacktrace = exports.getCauses = exports.calculateBacktraceShift = exports.DEFAULT_BACKTRACE_SHIFT = exports.makeBacktrace = exports.objectIsExtensible = exports.objectIsEmpty = exports.mergeNotice = exports.merge = void 0;\n/* eslint-disable prefer-rest-params */\nvar stackTraceParser = __importStar(require(\"stacktrace-parser\"));\nfunction merge(obj1, obj2) {\n    var result = {};\n    for (var k in obj1) {\n        result[k] = obj1[k];\n    }\n    for (var k in obj2) {\n        result[k] = obj2[k];\n    }\n    return result;\n}\nexports.merge = merge;\nfunction mergeNotice(notice1, notice2) {\n    var result = merge(notice1, notice2);\n    if (notice1.context && notice2.context) {\n        result.context = merge(notice1.context, notice2.context);\n    }\n    return result;\n}\nexports.mergeNotice = mergeNotice;\nfunction objectIsEmpty(obj) {\n    for (var k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.objectIsEmpty = objectIsEmpty;\nfunction objectIsExtensible(obj) {\n    if (typeof Object.isExtensible !== 'function') {\n        return true;\n    }\n    return Object.isExtensible(obj);\n}\nexports.objectIsExtensible = objectIsExtensible;\nfunction makeBacktrace(stack, filterHbSourceCode, logger) {\n    if (filterHbSourceCode === void 0) { filterHbSourceCode = false; }\n    if (logger === void 0) { logger = console; }\n    if (!stack) {\n        return [];\n    }\n    try {\n        var backtrace = stackTraceParser\n            .parse(stack)\n            .map(function (line) {\n            return {\n                file: line.file,\n                method: line.methodName,\n                number: line.lineNumber,\n                column: line.column\n            };\n        });\n        if (filterHbSourceCode) {\n            backtrace.splice(0, calculateBacktraceShift(backtrace));\n        }\n        return backtrace;\n    }\n    catch (err) {\n        logger.debug(err);\n        return [];\n    }\n}\nexports.makeBacktrace = makeBacktrace;\nfunction isFrameFromHbSourceCode(frame) {\n    var hasHbFile = false;\n    var hasHbMethod = false;\n    if (frame.file) {\n        hasHbFile = frame.file.toLowerCase().indexOf('@honeybadger-io') > -1;\n    }\n    if (frame.method) {\n        hasHbMethod = frame.method.toLowerCase().indexOf('@honeybadger-io') > -1;\n    }\n    return hasHbFile || hasHbMethod;\n}\nexports.DEFAULT_BACKTRACE_SHIFT = 3;\n/**\n * If {@link generateStackTrace} is used, we want to exclude frames that come from\n * Honeybadger's source code.\n *\n * Logic:\n * - For each frame, increment the shift if source code is from Honeybadger\n * - If a frame from an <anonymous> file is encountered increment the shift ONLY if between Honeybadger source code\n *   (i.e. previous and next frames are from Honeybadger)\n * - Exit when frame encountered is not from Honeybadger source code\n *\n * Note: this will not always work, especially in browser versions where code\n *       is minified, uglified and bundled.\n *       For those cases we default to 3:\n *       - generateStackTrace\n *       - makeNotice\n *       - notify\n */\nfunction calculateBacktraceShift(backtrace) {\n    var shift = 0;\n    for (var i = 0; i < backtrace.length; i++) {\n        var frame = backtrace[i];\n        if (isFrameFromHbSourceCode(frame)) {\n            shift++;\n            continue;\n        }\n        if (!frame.file || frame.file === '<anonymous>') {\n            var nextFrame = backtrace[i + 1];\n            if (nextFrame && isFrameFromHbSourceCode(nextFrame)) {\n                shift++;\n                continue;\n            }\n        }\n        break;\n    }\n    return shift || exports.DEFAULT_BACKTRACE_SHIFT;\n}\nexports.calculateBacktraceShift = calculateBacktraceShift;\nfunction getCauses(notice, logger) {\n    if (notice.cause) {\n        var causes = [];\n        var cause = notice;\n        // @ts-ignore this throws an error if tsconfig.json has strict: true\n        while (causes.length < 3 && (cause = cause.cause)) {\n            causes.push({\n                class: cause.name,\n                message: cause.message,\n                backtrace: typeof cause.stack == 'string' ? makeBacktrace(cause.stack, false, logger) : null\n            });\n        }\n        return causes;\n    }\n    return [];\n}\nexports.getCauses = getCauses;\nfunction getSourceForBacktrace(backtrace, getSourceFileHandler) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result, index, trace, fileContent;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    result = [];\n                    if (!getSourceFileHandler || !backtrace || !backtrace.length) {\n                        return [2 /*return*/, result];\n                    }\n                    index = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!backtrace.length) return [3 /*break*/, 3];\n                    trace = backtrace.splice(0)[index];\n                    return [4 /*yield*/, getSourceFileHandler(trace.file)];\n                case 2:\n                    fileContent = _a.sent();\n                    result[index] = getSourceCodeSnippet(fileContent, trace.number);\n                    index++;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, result];\n            }\n        });\n    });\n}\nexports.getSourceForBacktrace = getSourceForBacktrace;\nfunction runBeforeNotifyHandlers(notice, handlers) {\n    var results = [];\n    var result = true;\n    for (var i = 0, len = handlers.length; i < len; i++) {\n        var handler = handlers[i];\n        var handlerResult = handler(notice);\n        if (handlerResult === false) {\n            result = false;\n        }\n        results.push(handlerResult);\n    }\n    return {\n        results: results,\n        result: result\n    };\n}\nexports.runBeforeNotifyHandlers = runBeforeNotifyHandlers;\nfunction runAfterNotifyHandlers(notice, handlers, error) {\n    if (notice && notice.afterNotify) {\n        notice.afterNotify(error, notice);\n    }\n    for (var i = 0, len = handlers.length; i < len; i++) {\n        handlers[i](error, notice);\n    }\n    return true;\n}\nexports.runAfterNotifyHandlers = runAfterNotifyHandlers;\n// Returns a new object with properties from other object.\nfunction shallowClone(obj) {\n    if (typeof (obj) !== 'object' || obj === null) {\n        return {};\n    }\n    var result = {};\n    for (var k in obj) {\n        result[k] = obj[k];\n    }\n    return result;\n}\nexports.shallowClone = shallowClone;\nfunction sanitize(obj, maxDepth) {\n    if (maxDepth === void 0) { maxDepth = 8; }\n    var seenObjects = [];\n    function seen(obj) {\n        if (!obj || typeof (obj) !== 'object') {\n            return false;\n        }\n        for (var i = 0; i < seenObjects.length; i++) {\n            var value = seenObjects[i];\n            if (value === obj) {\n                return true;\n            }\n        }\n        seenObjects.push(obj);\n        return false;\n    }\n    function canSerialize(obj) {\n        var typeOfObj = typeof obj;\n        // Functions are TMI\n        if (/function/.test(typeOfObj)) {\n            // Let special toJSON method pass as it's used by JSON.stringify (#722)\n            return obj.name === 'toJSON';\n        }\n        // Symbols can't convert to strings.\n        if (/symbol/.test(typeOfObj)) {\n            return false;\n        }\n        if (obj === null) {\n            return false;\n        }\n        // No prototype, likely created with `Object.create(null)`.\n        if (typeof obj === 'object' && typeof obj.hasOwnProperty === 'undefined') {\n            return false;\n        }\n        return true;\n    }\n    function serialize(obj, depth) {\n        if (depth === void 0) { depth = 0; }\n        if (depth >= maxDepth) {\n            return '[DEPTH]';\n        }\n        // Inspect invalid types\n        if (!canSerialize(obj)) {\n            return Object.prototype.toString.call(obj);\n        }\n        // Halt circular references\n        if (seen(obj)) {\n            return '[RECURSION]';\n        }\n        // Serialize inside arrays\n        if (Array.isArray(obj)) {\n            return obj.map(function (o) { return safeSerialize(o, depth + 1); });\n        }\n        // Serialize inside objects\n        if (typeof (obj) === 'object') {\n            var ret = {};\n            for (var k in obj) {\n                var v = obj[k];\n                if (Object.prototype.hasOwnProperty.call(obj, k) && (k != null) && (v != null)) {\n                    ret[k] = safeSerialize(v, depth + 1);\n                }\n            }\n            return ret;\n        }\n        // Return everything else untouched\n        return obj;\n    }\n    function safeSerialize(obj, depth) {\n        if (depth === void 0) { depth = 0; }\n        try {\n            return serialize(obj, depth);\n        }\n        catch (e) {\n            return \"[ERROR] \".concat(e);\n        }\n    }\n    return safeSerialize(obj);\n}\nexports.sanitize = sanitize;\nfunction logger(client) {\n    var log = function (method) {\n        return function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (method === 'debug') {\n                if (!client.config.debug) {\n                    return;\n                }\n                // Log at default level so that you don't need to also enable verbose\n                // logging in Chrome.\n                method = 'log';\n            }\n            args.unshift('[Honeybadger]');\n            (_a = client.config.logger)[method].apply(_a, args);\n        };\n    };\n    return {\n        log: log('log'),\n        info: log('info'),\n        debug: log('debug'),\n        warn: log('warn'),\n        error: log('error')\n    };\n}\nexports.logger = logger;\n/**\n * Converts any object into a notice object (which at minimum has the same\n * properties as Error, but supports additional Honeybadger properties.)\n */\nfunction makeNotice(thing) {\n    var notice;\n    if (!thing) {\n        notice = {};\n    }\n    else if (isErrorObject(thing)) {\n        var e = thing;\n        notice = merge(thing, { name: e.name, message: e.message, stack: e.stack, cause: e.cause });\n    }\n    else if (typeof thing === 'object') {\n        notice = shallowClone(thing);\n    }\n    else {\n        var m = String(thing);\n        notice = { message: m };\n    }\n    return notice;\n}\nexports.makeNotice = makeNotice;\nfunction isErrorObject(thing) {\n    return thing instanceof Error\n        || Object.prototype.toString.call(thing) === '[object Error]'; // Important for cross-realm objects\n}\nexports.isErrorObject = isErrorObject;\n/**\n * Instrument an existing function inside an object (usually global).\n * @param {!Object} object\n * @param {!String} name\n * @param {!Function} replacement\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction instrument(object, name, replacement) {\n    if (!object || !name || !replacement || !(name in object)) {\n        return;\n    }\n    try {\n        var original = object[name];\n        while (original && original.__hb_original) {\n            original = original.__hb_original;\n        }\n        object[name] = replacement(original);\n        object[name].__hb_original = original;\n    }\n    catch (_e) {\n        // Ignores errors where \"original\" is a restricted object (see #1001)\n        // Uncaught Error: Permission denied to access property \"__hb_original\"\n        // Also ignores:\n        //   Error: TypeError: Cannot set property onunhandledrejection of [object Object] which has only a getter\n        //   User-Agent: Mozilla/5.0 (Linux; Android 10; SAMSUNG SM-G960F) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/12.1 Chrome/79.0.3945.136 Mobile Safari/537.36\n    }\n}\nexports.instrument = instrument;\nvar _consoleAlreadyInstrumented = false;\nvar listeners = [];\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction instrumentConsole(_window, handler) {\n    if (!_window || !_window.console || !handler) {\n        return;\n    }\n    listeners.push(handler);\n    if (_consoleAlreadyInstrumented) {\n        return;\n    }\n    _consoleAlreadyInstrumented = true;\n    ['debug', 'info', 'warn', 'error', 'log'].forEach(function (level) {\n        instrument(_window.console, level, function hbLogger(original) {\n            return function () {\n                var args = Array.prototype.slice.call(arguments);\n                listeners.forEach(function (listener) {\n                    try {\n                        listener(level, args);\n                    }\n                    catch (_e) {\n                        // ignore\n                        // should never reach here because instrument method already wraps with try/catch block\n                    }\n                });\n                if (typeof original === 'function') {\n                    Function.prototype.apply.call(original, _window.console, arguments);\n                }\n            };\n        });\n    });\n}\nexports.instrumentConsole = instrumentConsole;\nfunction endpoint(base, path) {\n    var endpoint = base.trim().replace(/\\/$/, '');\n    path = path.trim().replace(/(^\\/|\\/$)/g, '');\n    return \"\".concat(endpoint, \"/\").concat(path);\n}\nexports.endpoint = endpoint;\nfunction generateStackTrace() {\n    try {\n        throw new Error('');\n    }\n    catch (e) {\n        if (e.stack) {\n            return e.stack;\n        }\n    }\n    var maxStackSize = 10;\n    var stack = [];\n    var curr = arguments.callee;\n    while (curr && stack.length < maxStackSize) {\n        if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n            stack.push(RegExp.$1 || '<anonymous>');\n        }\n        else {\n            stack.push('<anonymous>');\n        }\n        try {\n            curr = curr.caller;\n        }\n        catch (e) {\n            break;\n        }\n    }\n    return stack.join('\\n');\n}\nexports.generateStackTrace = generateStackTrace;\nfunction filter(obj, filters) {\n    if (!is('Object', obj)) {\n        return;\n    }\n    if (!is('Array', filters)) {\n        filters = [];\n    }\n    var seen = [];\n    function filter(obj) {\n        var k, newObj;\n        if (is('Object', obj) || is('Array', obj)) {\n            if (seen.indexOf(obj) !== -1) {\n                return '[CIRCULAR DATA STRUCTURE]';\n            }\n            seen.push(obj);\n        }\n        if (is('Object', obj)) {\n            newObj = {};\n            for (k in obj) {\n                if (filterMatch(k, filters)) {\n                    newObj[k] = '[FILTERED]';\n                }\n                else {\n                    newObj[k] = filter(obj[k]);\n                }\n            }\n            return newObj;\n        }\n        if (is('Array', obj)) {\n            return obj.map(function (v) {\n                return filter(v);\n            });\n        }\n        if (is('Function', obj)) {\n            return '[FUNC]';\n        }\n        return obj;\n    }\n    return filter(obj);\n}\nexports.filter = filter;\nfunction filterMatch(key, filters) {\n    for (var i = 0; i < filters.length; i++) {\n        if (key.toLowerCase().indexOf(filters[i].toLowerCase()) !== -1) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction is(type, obj) {\n    var klass = Object.prototype.toString.call(obj).slice(8, -1);\n    return obj !== undefined && obj !== null && klass === type;\n}\nfunction filterUrl(url, filters) {\n    if (!filters) {\n        return url;\n    }\n    if (typeof url !== 'string') {\n        return url;\n    }\n    var query = url.split(/\\?/, 2)[1];\n    if (!query) {\n        return url;\n    }\n    var result = url;\n    query.split(/[&]\\s?/).forEach(function (pair) {\n        var _a = pair.split('=', 2), key = _a[0], value = _a[1];\n        if (filterMatch(key, filters)) {\n            result = result.replace(\"\".concat(key, \"=\").concat(value), \"\".concat(key, \"=[FILTERED]\"));\n        }\n    });\n    return result;\n}\nexports.filterUrl = filterUrl;\nfunction formatCGIData(vars, prefix) {\n    if (prefix === void 0) { prefix = ''; }\n    var formattedVars = {};\n    Object.keys(vars).forEach(function (key) {\n        var formattedKey = prefix + key.replace(/\\W/g, '_').toUpperCase();\n        formattedVars[formattedKey] = vars[key];\n    });\n    return formattedVars;\n}\nexports.formatCGIData = formatCGIData;\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexports.clone = clone;\nfunction getSourceCodeSnippet(fileData, lineNumber, sourceRadius) {\n    if (sourceRadius === void 0) { sourceRadius = 2; }\n    if (!fileData) {\n        return null;\n    }\n    var lines = fileData.split('\\n');\n    // add one empty line because array index starts from 0, but error line number is counted from 1\n    lines.unshift('');\n    var start = lineNumber - sourceRadius;\n    var end = lineNumber + sourceRadius;\n    var result = {};\n    for (var i = start; i <= end; i++) {\n        var line = lines[i];\n        if (typeof line === 'string') {\n            result[i] = line;\n        }\n    }\n    return result;\n}\nfunction isBrowserConfig(config) {\n    return config.async !== undefined;\n}\nexports.isBrowserConfig = isBrowserConfig;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalStore = void 0;\nvar util_1 = require(\"./util\");\nvar GlobalStore = /** @class */ (function () {\n    function GlobalStore(contents, breadcrumbsLimit) {\n        this.contents = contents;\n        this.breadcrumbsLimit = breadcrumbsLimit;\n    }\n    GlobalStore.create = function (contents, breadcrumbsLimit) {\n        return new GlobalStore(contents, breadcrumbsLimit);\n    };\n    GlobalStore.prototype.available = function () {\n        return true;\n    };\n    GlobalStore.prototype.getContents = function (key) {\n        var value = key ? this.contents[key] : this.contents;\n        return JSON.parse(JSON.stringify(value));\n    };\n    GlobalStore.prototype.setContext = function (context) {\n        this.contents.context = (0, util_1.merge)(this.contents.context, context || {});\n    };\n    GlobalStore.prototype.addBreadcrumb = function (breadcrumb) {\n        if (this.contents.breadcrumbs.length == this.breadcrumbsLimit) {\n            this.contents.breadcrumbs.shift();\n        }\n        this.contents.breadcrumbs.push(breadcrumb);\n    };\n    GlobalStore.prototype.clear = function () {\n        this.contents.context = {};\n        this.contents.breadcrumbs = [];\n    };\n    GlobalStore.prototype.run = function (callback) {\n        return callback();\n    };\n    return GlobalStore;\n}());\nexports.GlobalStore = GlobalStore;\n//# sourceMappingURL=store.js.map","export class NdJson {\n    static parse(data) {\n        const lines = data.trim().split('\\n');\n        return lines.map(line => JSON.parse(line));\n    }\n    static stringify(data) {\n        return data.map(item => JSON.stringify(item)).join('\\n');\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONFIG = void 0;\nexports.CONFIG = {\n    apiKey: null,\n    endpoint: 'https://api.honeybadger.io',\n    environment: null,\n    hostname: null,\n    projectRoot: null,\n    component: null,\n    action: null,\n    revision: null,\n    reportData: null,\n    breadcrumbsEnabled: true,\n    eventsEnabled: false,\n    maxBreadcrumbs: 40,\n    maxObjectDepth: 8,\n    logger: console,\n    developmentEnvironments: ['dev', 'development', 'test'],\n    debug: false,\n    tags: null,\n    enableUncaught: true,\n    enableUnhandledRejection: true,\n    afterUncaught: function () { return true; },\n    filters: ['creditcard', 'password'],\n    __plugins: [],\n};\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ThrottledEventsLogger = void 0;\nvar json_nd_1 = require(\"json-nd\");\nvar util_1 = require(\"./util\");\nvar defaults_1 = require(\"./defaults\");\nvar ThrottledEventsLogger = /** @class */ (function () {\n    function ThrottledEventsLogger(config, transport) {\n        this.config = config;\n        this.transport = transport;\n        this.queue = [];\n        this.isProcessing = false;\n        this.config = __assign(__assign({}, defaults_1.CONFIG), config);\n        this.logger = this.originalLogger();\n    }\n    ThrottledEventsLogger.prototype.configure = function (opts) {\n        for (var k in opts) {\n            this.config[k] = opts[k];\n        }\n    };\n    ThrottledEventsLogger.prototype.logEvent = function (data) {\n        this.queue.push(data);\n        if (!this.isProcessing) {\n            this.processQueue();\n        }\n    };\n    ThrottledEventsLogger.prototype.processQueue = function () {\n        var _this = this;\n        if (this.queue.length === 0 || this.isProcessing) {\n            return;\n        }\n        this.isProcessing = true;\n        var eventsData = this.queue.slice();\n        this.queue = [];\n        var data = json_nd_1.NdJson.stringify(eventsData);\n        this.makeHttpRequest(data)\n            .then(function () {\n            setTimeout(function () {\n                _this.isProcessing = false;\n                _this.processQueue();\n            }, 50);\n        })\n            .catch(function (error) {\n            _this.logger.error('[Honeybadger] Error making HTTP request:', error);\n            // Continue processing the queue even if there's an error\n            setTimeout(function () {\n                _this.isProcessing = false;\n                _this.processQueue();\n            }, 50);\n        });\n    };\n    ThrottledEventsLogger.prototype.makeHttpRequest = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.transport\n                        .send({\n                        headers: {\n                            'X-API-Key': this.config.apiKey,\n                            'Content-Type': 'application/json',\n                        },\n                        method: 'POST',\n                        endpoint: (0, util_1.endpoint)(this.config.endpoint, '/v1/events'),\n                        maxObjectDepth: this.config.maxObjectDepth,\n                        logger: this.logger,\n                    }, data)\n                        .then(function () {\n                        if (_this.config.debug) {\n                            _this.logger.debug('[Honeybadger] Events sent successfully');\n                        }\n                    })\n                        .catch(function (err) {\n                        _this.logger.error(\"[Honeybadger] Error sending events: \".concat(err.message));\n                    })];\n            });\n        });\n    };\n    /**\n     * todo: improve this\n     *\n     * The EventsLogger overrides the console methods\n     * so if we want to log something we need to use the original methods\n     */\n    ThrottledEventsLogger.prototype.originalLogger = function () {\n        var _a, _b, _c, _d, _e;\n        return {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            log: (_a = console.log.__hb_original) !== null && _a !== void 0 ? _a : console.log,\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            info: (_b = console.info.__hb_original) !== null && _b !== void 0 ? _b : console.info,\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            debug: (_c = console.debug.__hb_original) !== null && _c !== void 0 ? _c : console.debug,\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            warn: (_d = console.warn.__hb_original) !== null && _d !== void 0 ? _d : console.warn,\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            error: (_e = console.error.__hb_original) !== null && _e !== void 0 ? _e : console.error,\n        };\n    };\n    return ThrottledEventsLogger;\n}());\nexports.ThrottledEventsLogger = ThrottledEventsLogger;\n//# sourceMappingURL=throttled_events_logger.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Client = void 0;\nvar util_1 = require(\"./util\");\nvar store_1 = require(\"./store\");\nvar throttled_events_logger_1 = require(\"./throttled_events_logger\");\nvar defaults_1 = require(\"./defaults\");\n// Split at commas and spaces\nvar TAG_SEPARATOR = /,|\\s+/;\n// Checks for non-blank characters\nvar NOT_BLANK = /\\S/;\nvar Client = /** @class */ (function () {\n    function Client(opts, transport) {\n        if (opts === void 0) { opts = {}; }\n        this.__pluginsLoaded = false;\n        this.__store = null;\n        this.__beforeNotifyHandlers = [];\n        this.__afterNotifyHandlers = [];\n        this.__notifier = {\n            name: '@honeybadger-io/core',\n            url: 'https://github.com/honeybadger-io/honeybadger-js/tree/master/packages/core',\n            version: '__VERSION__'\n        };\n        this.config = __assign(__assign({}, defaults_1.CONFIG), opts);\n        this.__initStore();\n        this.__transport = transport;\n        this.__eventsLogger = new throttled_events_logger_1.ThrottledEventsLogger(this.config, this.__transport);\n        this.logger = (0, util_1.logger)(this);\n    }\n    Client.prototype.getVersion = function () {\n        return this.__notifier.version;\n    };\n    Client.prototype.getNotifier = function () {\n        return this.__notifier;\n    };\n    /**\n     * CAREFUL: When adding a new notifier or updating the name of an existing notifier,\n     * the Honeybadger rails project may need its mappings updated.\n     * See https://github.com/honeybadger-io/honeybadger/blob/master/app/presenters/breadcrumbs_presenter.rb\n     *     https://github.com/honeybadger-io/honeybadger/blob/master/app/models/parser/java_script.rb\n     *     https://github.com/honeybadger-io/honeybadger/blob/master/app/models/language.rb\n     **/\n    Client.prototype.setNotifier = function (notifier) {\n        this.__notifier = notifier;\n    };\n    Client.prototype.configure = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        for (var k in opts) {\n            this.config[k] = opts[k];\n        }\n        this.__eventsLogger.configure(this.config);\n        this.loadPlugins();\n        return this;\n    };\n    Client.prototype.loadPlugins = function () {\n        var _this = this;\n        var pluginsToLoad = this.__pluginsLoaded\n            ? this.config.__plugins.filter(function (plugin) { return plugin.shouldReloadOnConfigure; })\n            : this.config.__plugins;\n        pluginsToLoad.forEach(function (plugin) { return plugin.load(_this); });\n        this.__pluginsLoaded = true;\n    };\n    Client.prototype.__initStore = function () {\n        this.__store = new store_1.GlobalStore({ context: {}, breadcrumbs: [] }, this.config.maxBreadcrumbs);\n    };\n    Client.prototype.beforeNotify = function (handler) {\n        this.__beforeNotifyHandlers.push(handler);\n        return this;\n    };\n    Client.prototype.afterNotify = function (handler) {\n        this.__afterNotifyHandlers.push(handler);\n        return this;\n    };\n    Client.prototype.setContext = function (context) {\n        if (typeof context === 'object' && context != null) {\n            this.__store.setContext(context);\n        }\n        return this;\n    };\n    Client.prototype.resetContext = function (context) {\n        this.logger.warn('Deprecation warning: `Honeybadger.resetContext()` has been deprecated; please use `Honeybadger.clear()` instead.');\n        this.__store.clear();\n        if (typeof context === 'object' && context !== null) {\n            this.__store.setContext(context);\n        }\n        return this;\n    };\n    Client.prototype.clear = function () {\n        this.__store.clear();\n        return this;\n    };\n    Client.prototype.notify = function (noticeable, name, extra) {\n        var _this = this;\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        var notice = this.makeNotice(noticeable, name, extra);\n        // we need to have the source file data before the beforeNotifyHandlers,\n        // in case they modify them\n        var sourceCodeData = notice && notice.backtrace ? notice.backtrace.map(function (trace) { return (0, util_1.shallowClone)(trace); }) : null;\n        var preConditionsResult = this.__runPreconditions(notice);\n        if (preConditionsResult instanceof Error) {\n            (0, util_1.runAfterNotifyHandlers)(notice, this.__afterNotifyHandlers, preConditionsResult);\n            return false;\n        }\n        if (preConditionsResult instanceof Promise) {\n            preConditionsResult.then(function (result) {\n                if (result instanceof Error) {\n                    (0, util_1.runAfterNotifyHandlers)(notice, _this.__afterNotifyHandlers, result);\n                    return false;\n                }\n                return _this.__send(notice, sourceCodeData);\n            });\n            return true;\n        }\n        this.__send(notice, sourceCodeData).catch(function (_err) { });\n        return true;\n    };\n    /**\n     * An async version of {@link notify} that resolves only after the notice has been reported to Honeybadger.\n     * Implemented using the {@link afterNotify} hook.\n     * Rejects if for any reason the report failed to be reported.\n     * Useful in serverless environments (AWS Lambda).\n     */\n    Client.prototype.notifyAsync = function (noticeable, name, extra) {\n        var _this = this;\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        return new Promise(function (resolve, reject) {\n            var applyAfterNotify = function (partialNotice) {\n                var originalAfterNotify = partialNotice.afterNotify;\n                partialNotice.afterNotify = function (err) {\n                    originalAfterNotify === null || originalAfterNotify === void 0 ? void 0 : originalAfterNotify.call(_this, err);\n                    if (err) {\n                        return reject(err);\n                    }\n                    resolve();\n                };\n            };\n            // We have to respect any afterNotify hooks that come from the arguments\n            var objectToOverride;\n            if (noticeable.afterNotify) {\n                objectToOverride = noticeable;\n            }\n            else if (name && name.afterNotify) {\n                objectToOverride = name;\n            }\n            else if (extra && extra.afterNotify) {\n                objectToOverride = extra;\n            }\n            else if (name && typeof name === 'object') {\n                objectToOverride = name;\n            }\n            else if (extra) {\n                objectToOverride = extra;\n            }\n            else {\n                objectToOverride = name = {};\n            }\n            applyAfterNotify(objectToOverride);\n            _this.notify(noticeable, name, extra);\n        });\n    };\n    Client.prototype.makeNotice = function (noticeable, name, extra) {\n        if (name === void 0) { name = undefined; }\n        if (extra === void 0) { extra = undefined; }\n        var notice = (0, util_1.makeNotice)(noticeable);\n        if (name && !(typeof name === 'object')) {\n            var n = String(name);\n            name = { name: n };\n        }\n        if (name) {\n            notice = (0, util_1.mergeNotice)(notice, name);\n        }\n        if (typeof extra === 'object' && extra !== null) {\n            notice = (0, util_1.mergeNotice)(notice, extra);\n        }\n        if ((0, util_1.objectIsEmpty)(notice)) {\n            return null;\n        }\n        var context = this.__store.getContents('context');\n        var noticeTags = this.__constructTags(notice.tags);\n        var contextTags = this.__constructTags(context['tags']);\n        var configTags = this.__constructTags(this.config.tags);\n        // Turning into a Set will remove duplicates\n        var tags = noticeTags.concat(contextTags).concat(configTags);\n        var uniqueTags = tags.filter(function (item, index) { return tags.indexOf(item) === index; });\n        notice = (0, util_1.merge)(notice, {\n            name: notice.name || 'Error',\n            context: (0, util_1.merge)(context, notice.context),\n            projectRoot: notice.projectRoot || this.config.projectRoot,\n            environment: notice.environment || this.config.environment,\n            component: notice.component || this.config.component,\n            action: notice.action || this.config.action,\n            revision: notice.revision || this.config.revision,\n            tags: uniqueTags,\n        });\n        // If we're passed a custom backtrace array, use it\n        // Otherwise we make one.\n        if (!Array.isArray(notice.backtrace) || !notice.backtrace.length) {\n            if (typeof notice.stack !== 'string' || !notice.stack.trim()) {\n                notice.stack = (0, util_1.generateStackTrace)();\n                notice.backtrace = (0, util_1.makeBacktrace)(notice.stack, true, this.logger);\n            }\n            else {\n                notice.backtrace = (0, util_1.makeBacktrace)(notice.stack, false, this.logger);\n            }\n        }\n        return notice;\n    };\n    Client.prototype.addBreadcrumb = function (message, opts) {\n        if (!this.config.breadcrumbsEnabled) {\n            return;\n        }\n        opts = opts || {};\n        var metadata = (0, util_1.shallowClone)(opts.metadata);\n        var category = opts.category || 'custom';\n        var timestamp = new Date().toISOString();\n        this.__store.addBreadcrumb({\n            category: category,\n            message: message,\n            metadata: metadata,\n            timestamp: timestamp\n        });\n        return this;\n    };\n    Client.prototype.logEvent = function (data) {\n        this.__eventsLogger.logEvent(data);\n    };\n    Client.prototype.__getBreadcrumbs = function () {\n        return this.__store.getContents('breadcrumbs').slice();\n    };\n    Client.prototype.__getContext = function () {\n        return this.__store.getContents('context');\n    };\n    Client.prototype.__developmentMode = function () {\n        if (this.config.reportData === true) {\n            return false;\n        }\n        return (this.config.environment && this.config.developmentEnvironments.includes(this.config.environment));\n    };\n    Client.prototype.__buildPayload = function (notice) {\n        var headers = (0, util_1.filter)(notice.headers, this.config.filters) || {};\n        var cgiData = (0, util_1.filter)(__assign(__assign({}, notice.cgiData), (0, util_1.formatCGIData)(headers, 'HTTP_')), this.config.filters);\n        return {\n            notifier: this.__notifier,\n            breadcrumbs: {\n                enabled: !!this.config.breadcrumbsEnabled,\n                trail: notice.__breadcrumbs || []\n            },\n            error: {\n                class: notice.name,\n                message: notice.message,\n                backtrace: notice.backtrace,\n                fingerprint: notice.fingerprint,\n                tags: notice.tags,\n                causes: (0, util_1.getCauses)(notice, this.logger),\n            },\n            request: {\n                url: (0, util_1.filterUrl)(notice.url, this.config.filters),\n                component: notice.component,\n                action: notice.action,\n                context: notice.context,\n                cgi_data: cgiData,\n                params: (0, util_1.filter)(notice.params, this.config.filters) || {},\n                session: (0, util_1.filter)(notice.session, this.config.filters) || {}\n            },\n            server: {\n                project_root: notice.projectRoot,\n                environment_name: notice.environment,\n                revision: notice.revision,\n                hostname: this.config.hostname,\n                time: new Date().toUTCString()\n            },\n            details: notice.details || {}\n        };\n    };\n    Client.prototype.__constructTags = function (tags) {\n        if (!tags) {\n            return [];\n        }\n        return tags.toString().split(TAG_SEPARATOR).filter(function (tag) { return NOT_BLANK.test(tag); });\n    };\n    Client.prototype.__runPreconditions = function (notice) {\n        var _this = this;\n        var preConditionError = null;\n        if (!notice) {\n            this.logger.debug('failed to build error report');\n            preConditionError = new Error('failed to build error report');\n        }\n        if (this.config.reportData === false) {\n            this.logger.debug('skipping error report: honeybadger.js is disabled', notice);\n            preConditionError = new Error('honeybadger.js is disabled');\n        }\n        if (this.__developmentMode()) {\n            this.logger.log('honeybadger.js is in development mode; the following error report will be sent in production.', notice);\n            preConditionError = new Error('honeybadger.js is in development mode');\n        }\n        if (!this.config.apiKey) {\n            this.logger.warn('could not send error report: no API key has been configured', notice);\n            preConditionError = new Error('missing API key');\n        }\n        var beforeNotifyResult = (0, util_1.runBeforeNotifyHandlers)(notice, this.__beforeNotifyHandlers);\n        if (!preConditionError && !beforeNotifyResult.result) {\n            this.logger.debug('skipping error report: one or more beforeNotify handlers returned false', notice);\n            preConditionError = new Error('beforeNotify handlers returned false');\n        }\n        if (beforeNotifyResult.results.length && beforeNotifyResult.results.some(function (result) { return result instanceof Promise; })) {\n            return Promise.allSettled(beforeNotifyResult.results)\n                .then(function (results) {\n                if (!preConditionError && (results.some(function (result) { return result.status === 'rejected' || result.value === false; }))) {\n                    _this.logger.debug('skipping error report: one or more beforeNotify handlers returned false', notice);\n                    preConditionError = new Error('beforeNotify handlers (async) returned false');\n                }\n                if (preConditionError) {\n                    return preConditionError;\n                }\n            });\n        }\n        return preConditionError;\n    };\n    Client.prototype.__send = function (notice, originalBacktrace) {\n        var _this = this;\n        if (this.config.breadcrumbsEnabled) {\n            this.addBreadcrumb('Honeybadger Notice', {\n                category: 'notice',\n                metadata: {\n                    message: notice.message,\n                    name: notice.name,\n                    stack: notice.stack\n                }\n            });\n            notice.__breadcrumbs = this.__store.getContents('breadcrumbs');\n        }\n        else {\n            notice.__breadcrumbs = [];\n        }\n        return (0, util_1.getSourceForBacktrace)(originalBacktrace, this.__getSourceFileHandler)\n            .then(function (sourcePerTrace) { return __awaiter(_this, void 0, void 0, function () {\n            var payload;\n            return __generator(this, function (_a) {\n                sourcePerTrace.forEach(function (source, index) {\n                    notice.backtrace[index].source = source;\n                });\n                payload = this.__buildPayload(notice);\n                return [2 /*return*/, this.__transport\n                        .send({\n                        headers: {\n                            'X-API-Key': this.config.apiKey,\n                            'Content-Type': 'application/json',\n                            'Accept': 'text/json, application/json'\n                        },\n                        method: 'POST',\n                        endpoint: (0, util_1.endpoint)(this.config.endpoint, '/v1/notices/js'),\n                        maxObjectDepth: this.config.maxObjectDepth,\n                        logger: this.logger,\n                    }, payload)];\n            });\n        }); })\n            .then(function (res) {\n            if (res.statusCode !== 201) {\n                (0, util_1.runAfterNotifyHandlers)(notice, _this.__afterNotifyHandlers, new Error(\"Bad HTTP response: \".concat(res.statusCode)));\n                _this.logger.warn(\"Error report failed: unknown response from server. code=\".concat(res.statusCode));\n                return false;\n            }\n            var uuid = JSON.parse(res.body).id;\n            (0, util_1.runAfterNotifyHandlers)((0, util_1.merge)(notice, {\n                id: uuid\n            }), _this.__afterNotifyHandlers);\n            _this.logger.info(\"Error report sent \\u26A1 https://app.honeybadger.io/notice/\".concat(uuid));\n            return true;\n        })\n            .catch(function (err) {\n            _this.logger.error('Error report failed: an unknown error occurred.', \"message=\".concat(err.message));\n            (0, util_1.runAfterNotifyHandlers)(notice, _this.__afterNotifyHandlers, err);\n            return false;\n        });\n    };\n    return Client;\n}());\nexports.Client = Client;\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Types = exports.Client = void 0;\nvar client_1 = require(\"./client\");\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return client_1.Client; } });\n__exportStar(require(\"./store\"), exports);\nexports.Types = __importStar(require(\"./types\"));\nexports.Util = __importStar(require(\"./util\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.globalThisOrWindow = exports.preferCatch = exports.encodeCookie = exports.decodeCookie = exports.localURLPathname = exports.parseURL = exports.nativeFetch = exports.stringTextOfElement = exports.stringSelectorOfElement = exports.stringNameOfElement = void 0;\n/**\n * Converts an HTMLElement into a human-readable string.\n * @param {!HTMLElement} element\n * @return {string}\n */\nfunction stringNameOfElement(element) {\n    if (!element || !element.tagName) {\n        return '';\n    }\n    var name = element.tagName.toLowerCase();\n    // Ignore the root <html> element in selectors and events.\n    if (name === 'html') {\n        return '';\n    }\n    if (element.id) {\n        name += \"#\".concat(element.id);\n    }\n    var stringClassNames = element.getAttribute('class');\n    if (stringClassNames) {\n        stringClassNames.split(/\\s+/).forEach(function (className) {\n            name += \".\".concat(className);\n        });\n    }\n    ['alt', 'name', 'title', 'type'].forEach(function (attrName) {\n        var attr = element.getAttribute(attrName);\n        if (attr) {\n            name += \"[\".concat(attrName, \"=\\\"\").concat(attr, \"\\\"]\");\n        }\n    });\n    var siblings = getSiblings(element);\n    if (siblings.length > 1) {\n        name += \":nth-child(\".concat(Array.prototype.indexOf.call(siblings, element) + 1, \")\");\n    }\n    return name;\n}\nexports.stringNameOfElement = stringNameOfElement;\nfunction stringSelectorOfElement(element) {\n    var name = stringNameOfElement(element);\n    if (element.parentNode && element.parentNode.tagName) {\n        var parentName = stringSelectorOfElement(element.parentNode);\n        if (parentName.length > 0) {\n            return \"\".concat(parentName, \" > \").concat(name);\n        }\n    }\n    return name;\n}\nexports.stringSelectorOfElement = stringSelectorOfElement;\nfunction stringTextOfElement(element) {\n    var text = element.textContent || element.innerText || '';\n    if (!text && (element.type === 'submit' || element.type === 'button')) {\n        text = element.value;\n    }\n    return truncate(text.trim(), 300);\n}\nexports.stringTextOfElement = stringTextOfElement;\nfunction nativeFetch() {\n    var global = globalThisOrWindow();\n    if (!global.fetch) {\n        return false;\n    }\n    if (isNative(global.fetch)) {\n        return true;\n    }\n    if (typeof document === 'undefined') {\n        return false;\n    }\n    // If fetch isn't native, it may be wrapped by someone else. Try to get\n    // a pristine function from an iframe.\n    try {\n        var sandbox = document.createElement('iframe');\n        sandbox.style.display = 'none';\n        document.head.appendChild(sandbox);\n        var result = sandbox.contentWindow.fetch && isNative(sandbox.contentWindow.fetch);\n        document.head.removeChild(sandbox);\n        return result;\n    }\n    catch (err) {\n        if (console && console.warn) {\n            console.warn('failed to detect native fetch via iframe: ' + err);\n        }\n    }\n    return false;\n}\nexports.nativeFetch = nativeFetch;\nfunction isNative(func) {\n    return func.toString().indexOf('native') !== -1;\n}\nfunction parseURL(url) {\n    // Regexp: https://tools.ietf.org/html/rfc3986#appendix-B\n    var match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/) || {};\n    return {\n        protocol: match[2],\n        host: match[4],\n        pathname: match[5]\n    };\n}\nexports.parseURL = parseURL;\nfunction localURLPathname(url) {\n    var parsed = parseURL(url);\n    var parsedDocURL = parseURL(document.URL);\n    // URL must be relative\n    if (!parsed.host || !parsed.protocol) {\n        return parsed.pathname;\n    }\n    // Same domain\n    if (parsed.protocol === parsedDocURL.protocol && parsed.host === parsedDocURL.host) {\n        return parsed.pathname;\n    }\n    // x-domain\n    return \"\".concat(parsed.protocol, \"://\").concat(parsed.host).concat(parsed.pathname);\n}\nexports.localURLPathname = localURLPathname;\nfunction decodeCookie(string) {\n    var result = {};\n    string.split(/[;,]\\s?/).forEach(function (pair) {\n        var _a = pair.split('=', 2), key = _a[0], value = _a[1];\n        result[key] = value;\n    });\n    return result;\n}\nexports.decodeCookie = decodeCookie;\nfunction encodeCookie(object) {\n    if (typeof object !== 'object') {\n        return undefined;\n    }\n    var cookies = [];\n    for (var k in object) {\n        cookies.push(k + '=' + object[k]);\n    }\n    return cookies.join(';');\n}\nexports.encodeCookie = encodeCookie;\n// Helpers\nfunction getSiblings(element) {\n    try {\n        var nodes = element.parentNode.childNodes;\n        var siblings_1 = [];\n        Array.prototype.forEach.call(nodes, function (node) {\n            if (node.tagName && node.tagName === element.tagName) {\n                siblings_1.push(node);\n            }\n        });\n        return siblings_1;\n    }\n    catch (e) {\n        return [];\n    }\n}\nfunction truncate(string, length) {\n    if (string.length > length) {\n        string = string.substr(0, length) + '...';\n    }\n    return string;\n}\n// Used to decide which error handling method to use when wrapping async\n// handlers: try/catch, or `window.onerror`. When available, `window.onerror`\n// will provide more information in modern browsers.\nexports.preferCatch = (function () {\n    var preferCatch = true;\n    // In case we're in an environment without access to \"window\", lets make sure theres a window.\n    if (typeof window === 'undefined')\n        return preferCatch;\n    // IE < 10\n    if (!window.atob) {\n        preferCatch = false;\n    }\n    // Modern browsers support the full ErrorEvent API\n    // See https://developer.mozilla.org/en-US/docs/Web/API/ErrorEvent\n    if (window.ErrorEvent) {\n        try {\n            if ((new window.ErrorEvent('')).colno === 0) {\n                preferCatch = false;\n            }\n            // eslint-disable-next-line no-empty\n        }\n        catch (_e) { }\n    }\n    return preferCatch;\n})();\n/** globalThis has fairly good support. But just in case, lets check its defined.\n * @see {https://caniuse.com/?search=globalThis}\n */\nfunction globalThisOrWindow() {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    return window;\n}\nexports.globalThisOrWindow = globalThisOrWindow;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.onError = exports.ignoreNextOnError = void 0;\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument, makeNotice = core_1.Util.makeNotice;\nvar ignoreOnError = 0;\nvar currentTimeout;\nfunction ignoreNextOnError() {\n    ignoreOnError += 1;\n    clearTimeout(currentTimeout);\n    currentTimeout = setTimeout(function () {\n        ignoreOnError = 0;\n    });\n}\nexports.ignoreNextOnError = ignoreNextOnError;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction onError(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            instrument(_window, 'onerror', function (original) {\n                var onerror = function (msg, url, line, col, err) {\n                    client.logger.debug('window.onerror callback invoked', arguments);\n                    if (ignoreOnError > 0) {\n                        client.logger.debug('Ignoring window.onerror (error likely reported earlier)', arguments);\n                        ignoreOnError -= 1;\n                        return;\n                    }\n                    // See https://developer.mozilla.org/en/docs/Web/API/GlobalEventHandlers/onerror#Notes\n                    if (line === 0 && /Script error\\.?/.test(msg)) {\n                        if (client.config.enableUncaught) {\n                            // Log only if the user wants to report uncaught errors\n                            client.logger.warn('Ignoring cross-domain script error: enable CORS to track these types of errors', arguments);\n                        }\n                        return;\n                    }\n                    var notice = makeNotice(err);\n                    if (!notice.name) {\n                        notice.name = 'window.onerror';\n                    }\n                    if (!notice.message) {\n                        notice.message = msg;\n                    }\n                    if (!notice.stack) {\n                        // Simulate v8 stack\n                        notice.stack = [notice.message, '\\n    at ? (', url || 'unknown', ':', line || 0, ':', col || 0, ')'].join('');\n                    }\n                    client.addBreadcrumb((notice.name === 'window.onerror' || !notice.name) ? 'window.onerror' : \"window.onerror: \".concat(notice.name), {\n                        category: 'error',\n                        metadata: {\n                            name: notice.name,\n                            message: notice.message,\n                            stack: notice.stack\n                        }\n                    });\n                    if (client.config.enableUncaught) {\n                        client.notify(notice);\n                    }\n                };\n                return function (msg, url, line, col, err) {\n                    onerror(msg, url, line, col, err);\n                    if (typeof original === 'function') {\n                        return original.apply(_window, arguments);\n                    }\n                    return false;\n                };\n            });\n        }\n    };\n}\nexports.onError = onError;\n//# sourceMappingURL=onerror.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            if (!client.config.enableUnhandledRejection) {\n                return;\n            }\n            instrument(_window, 'onunhandledrejection', function (original) {\n                // See https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event\n                function onunhandledrejection(promiseRejectionEvent) {\n                    var _a;\n                    client.logger.debug('window.onunhandledrejection callback invoked', arguments);\n                    if (!client.config.enableUnhandledRejection) {\n                        return;\n                    }\n                    var reason = promiseRejectionEvent.reason;\n                    if (reason instanceof Error) {\n                        // simulate v8 stack\n                        // const fileName = reason.fileName || 'unknown'\n                        // const lineNumber = reason.lineNumber || 0\n                        var fileName = 'unknown';\n                        var lineNumber = 0;\n                        var stackFallback = \"\".concat(reason.message, \"\\n    at ? (\").concat(fileName, \":\").concat(lineNumber, \")\");\n                        var stack = reason.stack || stackFallback;\n                        var err = {\n                            name: reason.name,\n                            message: \"UnhandledPromiseRejectionWarning: \".concat(reason),\n                            stack: stack\n                        };\n                        client.addBreadcrumb(\"window.onunhandledrejection: \".concat(err.name), {\n                            category: 'error',\n                            metadata: err\n                        });\n                        client.notify(err);\n                        return;\n                    }\n                    var message = typeof reason === 'string' ? reason : ((_a = JSON.stringify(reason)) !== null && _a !== void 0 ? _a : 'Unspecified reason');\n                    client.notify({\n                        name: 'window.onunhandledrejection',\n                        message: \"UnhandledPromiseRejectionWarning: \".concat(message)\n                    });\n                }\n                return function (promiseRejectionEvent) {\n                    onunhandledrejection(promiseRejectionEvent);\n                    if (typeof original === 'function') {\n                        original.apply(this, arguments);\n                    }\n                };\n            });\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=onunhandledrejection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar sanitize = core_1.Util.sanitize, instrument = core_1.Util.instrument, instrumentConsole = core_1.Util.instrumentConsole;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            function breadcrumbsEnabled(type) {\n                if (client.config.breadcrumbsEnabled === true) {\n                    return true;\n                }\n                if (type) {\n                    return client.config.breadcrumbsEnabled[type] === true;\n                }\n                return client.config.breadcrumbsEnabled !== false;\n            }\n            // Breadcrumbs: instrument console\n            (function () {\n                if (!breadcrumbsEnabled('console')) {\n                    return;\n                }\n                function inspectArray(obj) {\n                    if (!Array.isArray(obj)) {\n                        return '';\n                    }\n                    return obj.map(function (value) {\n                        try {\n                            return String(value);\n                        }\n                        catch (e) {\n                            return '[unknown]';\n                        }\n                    }).join(' ');\n                }\n                instrumentConsole(_window, function (level, args) {\n                    var message = inspectArray(args);\n                    var opts = {\n                        category: 'log',\n                        metadata: {\n                            level: level,\n                            arguments: sanitize(args, 3)\n                        }\n                    };\n                    client.addBreadcrumb(message, opts);\n                });\n            })();\n            // Breadcrumbs: instrument click events\n            (function () {\n                if (!breadcrumbsEnabled('dom')) {\n                    return;\n                }\n                if (typeof _window.addEventListener !== 'function') {\n                    return;\n                }\n                _window.addEventListener('click', function (event) {\n                    var message, selector, text;\n                    try {\n                        message = (0, util_1.stringNameOfElement)(event.target);\n                        selector = (0, util_1.stringSelectorOfElement)(event.target);\n                        text = (0, util_1.stringTextOfElement)(event.target);\n                    }\n                    catch (e) {\n                        message = 'UI Click';\n                        selector = '[unknown]';\n                        text = '[unknown]';\n                    }\n                    // There's nothing to display\n                    if (message.length === 0) {\n                        return;\n                    }\n                    client.addBreadcrumb(message, {\n                        category: 'ui.click',\n                        metadata: {\n                            selector: selector,\n                            text: text,\n                            event: event\n                        }\n                    });\n                }, _window.location ? true : false); // In CloudFlare workers useCapture must be false. window.location is a hacky way to detect it.\n            })();\n            // Breadcrumbs: instrument XMLHttpRequest\n            (function () {\n                if (!breadcrumbsEnabled('network')) {\n                    return;\n                }\n                // Some environments may not support XMLHttpRequest.\n                if (typeof XMLHttpRequest === 'undefined') {\n                    return;\n                }\n                // -- On xhr.open: capture initial metadata\n                instrument(XMLHttpRequest.prototype, 'open', function (original) {\n                    return function () {\n                        // eslint-disable-next-line @typescript-eslint/no-this-alias\n                        var xhr = this;\n                        var rawUrl = arguments[1];\n                        // in case of url being URL object (which is valid input) we need to stringify it\n                        var url = typeof rawUrl === 'string' ? rawUrl : String(rawUrl);\n                        var method = typeof arguments[0] === 'string' ? arguments[0].toUpperCase() : arguments[0];\n                        var message = \"\".concat(method, \" \").concat((0, util_1.localURLPathname)(url));\n                        this.__hb_xhr = {\n                            type: 'xhr',\n                            method: method,\n                            url: url,\n                            message: message\n                        };\n                        if (typeof original === 'function') {\n                            original.apply(xhr, arguments);\n                        }\n                    };\n                });\n                // -- On xhr.send: set up xhr.onreadystatechange to report breadcrumb\n                instrument(XMLHttpRequest.prototype, 'send', function (original) {\n                    return function () {\n                        // eslint-disable-next-line @typescript-eslint/no-this-alias\n                        var xhr = this;\n                        function onreadystatechangeHandler() {\n                            if (xhr.readyState === 4) {\n                                var message = void 0;\n                                if (xhr.__hb_xhr) {\n                                    xhr.__hb_xhr.status_code = xhr.status;\n                                    message = xhr.__hb_xhr.message;\n                                    delete xhr.__hb_xhr.message;\n                                }\n                                client.addBreadcrumb(message || 'XMLHttpRequest', {\n                                    category: 'request',\n                                    metadata: xhr.__hb_xhr\n                                });\n                            }\n                        }\n                        if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n                            instrument(xhr, 'onreadystatechange', function (original) {\n                                return function () {\n                                    onreadystatechangeHandler();\n                                    if (typeof original === 'function') {\n                                        // eslint-disable-next-line prefer-rest-params\n                                        original.apply(this, arguments);\n                                    }\n                                };\n                            });\n                        }\n                        else {\n                            xhr.onreadystatechange = onreadystatechangeHandler;\n                        }\n                        if (typeof original === 'function') {\n                            // eslint-disable-next-line prefer-rest-params\n                            original.apply(xhr, arguments);\n                        }\n                    };\n                });\n            })();\n            // Breadcrumbs: instrument fetch\n            (function () {\n                if (!breadcrumbsEnabled('network')) {\n                    return;\n                }\n                if (!(0, util_1.nativeFetch)()) {\n                    // Polyfills use XHR.\n                    return;\n                }\n                instrument(_window, 'fetch', function (original) {\n                    return function () {\n                        // eslint-disable-next-line prefer-rest-params\n                        var input = arguments[0];\n                        var method = 'GET';\n                        var url;\n                        if (typeof input === 'string') {\n                            url = input;\n                        }\n                        else if ('Request' in _window && input instanceof Request) {\n                            url = input.url;\n                            if (input.method) {\n                                method = input.method;\n                            }\n                        }\n                        else {\n                            url = String(input);\n                        }\n                        if (arguments[1] && arguments[1].method) {\n                            method = arguments[1].method;\n                        }\n                        if (typeof method === 'string') {\n                            method = method.toUpperCase();\n                        }\n                        // localURLPathname cant be constructed for CF workers due to reliance on \"document\".\n                        var message = \"\".concat(method, \" \").concat(typeof document === 'undefined' ? url : (0, util_1.localURLPathname)(url));\n                        var metadata = {\n                            type: 'fetch',\n                            method: method,\n                            url: url\n                        };\n                        return original\n                            .apply(this, arguments)\n                            .then(function (response) {\n                            metadata['status_code'] = response.status;\n                            client.addBreadcrumb(message, {\n                                category: 'request',\n                                metadata: metadata\n                            });\n                            return response;\n                        })\n                            .catch(function (error) {\n                            client.addBreadcrumb('fetch error', {\n                                category: 'error',\n                                metadata: metadata\n                            });\n                            throw error;\n                        });\n                    };\n                });\n            })();\n            // Breadcrumbs: instrument navigation\n            (function () {\n                if (!breadcrumbsEnabled('navigation')) {\n                    return;\n                }\n                if (_window.location == null) {\n                    // Most likely in a CF worker, we should be listening to fetch requests instead.\n                    return;\n                }\n                // The last known href of the current page\n                var lastHref = _window.location.href;\n                function recordUrlChange(from, to) {\n                    lastHref = to;\n                    client.addBreadcrumb('Page changed', {\n                        category: 'navigation',\n                        metadata: {\n                            from: from,\n                            to: to\n                        }\n                    });\n                }\n                if (typeof addEventListener === 'function') {\n                    addEventListener('popstate', function (_event) {\n                        recordUrlChange(lastHref, _window.location.href);\n                    });\n                }\n                if (typeof _window.history === 'undefined') {\n                    return;\n                }\n                // https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\n                // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n                function historyWrapper(original) {\n                    return function () {\n                        var url = arguments.length > 2 ? arguments[2] : undefined;\n                        if (url) {\n                            recordUrlChange(lastHref, String(url));\n                        }\n                        return original.apply(this, arguments);\n                    };\n                }\n                instrument(_window.history, 'pushState', historyWrapper);\n                instrument(_window.history, 'replaceState', historyWrapper);\n            })();\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=breadcrumbs.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrumentConsole = core_1.Util.instrumentConsole;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        shouldReloadOnConfigure: false,\n        load: function (client) {\n            function sendEventsToInsights() {\n                return client.config.eventsEnabled;\n            }\n            if (!sendEventsToInsights()) {\n                return;\n            }\n            instrumentConsole(_window, function (level, args) {\n                if (!sendEventsToInsights()) {\n                    return;\n                }\n                // todo: send browser info\n                client.logEvent({\n                    level: level,\n                    args: args\n                });\n            });\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=events.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable prefer-rest-params */\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            // Wrap timers\n            (function () {\n                function instrumentTimer(wrapOpts) {\n                    return function (original) {\n                        // See https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout\n                        return function (func, delay) {\n                            if (typeof func === 'function') {\n                                var args_1 = Array.prototype.slice.call(arguments, 2);\n                                func = client.__wrap(func, wrapOpts);\n                                return original(function () {\n                                    func.apply(void 0, args_1);\n                                }, delay);\n                            }\n                            else {\n                                return original(func, delay);\n                            }\n                        };\n                    };\n                }\n                instrument(_window, 'setTimeout', instrumentTimer({ component: 'setTimeout' }));\n                instrument(_window, 'setInterval', instrumentTimer({ component: 'setInterval' }));\n            })();\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=timers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"../util\");\nvar instrument = core_1.Util.instrument;\nfunction default_1(_window) {\n    if (_window === void 0) { _window = (0, util_1.globalThisOrWindow)(); }\n    return {\n        load: function (client) {\n            // Wrap event listeners\n            // Event targets borrowed from bugsnag-js:\n            // See https://github.com/bugsnag/bugsnag-js/blob/d55af916a4d3c7757f979d887f9533fe1a04cc93/src/bugsnag.js#L542\n            var targets = ['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'];\n            targets.forEach(function (prop) {\n                var prototype = _window[prop] && _window[prop].prototype;\n                if (prototype && Object.prototype.hasOwnProperty.call(prototype, 'addEventListener')) {\n                    instrument(prototype, 'addEventListener', function (original) {\n                        var wrapOpts = { component: \"\".concat(prop, \".prototype.addEventListener\") };\n                        // See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n                        return function (type, listener, useCapture, wantsUntrusted) {\n                            try {\n                                if (listener && listener.handleEvent != null) {\n                                    listener.handleEvent = client.__wrap(listener.handleEvent, wrapOpts);\n                                }\n                            }\n                            catch (e) {\n                                // Ignore 'Permission denied to access property \"handleEvent\"' errors.\n                                client.logger.error(e);\n                            }\n                            return original.call(this, type, client.__wrap(listener, wrapOpts), useCapture, wantsUntrusted);\n                        };\n                    });\n                    instrument(prototype, 'removeEventListener', function (original) {\n                        return function (type, listener, useCapture, wantsUntrusted) {\n                            original.call(this, type, listener, useCapture, wantsUntrusted);\n                            return original.call(this, type, client.__wrap(listener), useCapture, wantsUntrusted);\n                        };\n                    });\n                }\n            });\n        }\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=event_listeners.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserTransport = void 0;\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"./util\");\nvar sanitize = core_1.Util.sanitize;\n/**\n * Helper function to get typesafe Object.entries()\n * https://twitter.com/mattpocockuk/status/1502264005251018754?lang=en\n */\nfunction objectEntries(obj) {\n    return Object.entries(obj);\n}\nvar BrowserTransport = /** @class */ (function () {\n    function BrowserTransport(headers) {\n        if (headers === void 0) { headers = {}; }\n        this.headers = {};\n        this.headers = headers;\n    }\n    BrowserTransport.prototype.defaultHeaders = function () {\n        return this.headers;\n    };\n    BrowserTransport.prototype.send = function (options, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var headerArray, headers, requestInit, response, body;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headerArray = options.headers ? objectEntries(options.headers) : [];\n                        headers = this.defaultHeaders();\n                        headerArray.forEach(function (_a) {\n                            var key = _a[0], value = _a[1];\n                            if (key != null && value != null) {\n                                headers[String(key)] = String(value);\n                            }\n                        });\n                        requestInit = {\n                            method: options.method,\n                            headers: headers\n                        };\n                        // GET methods cannot have a body.\n                        if (options.method === 'POST' && payload) {\n                            requestInit.body = typeof payload === 'string' ? payload : JSON.stringify(sanitize(payload, options.maxObjectDepth));\n                        }\n                        return [4 /*yield*/, (0, util_1.globalThisOrWindow)().fetch(options.endpoint, requestInit)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        body = _a.sent();\n                        return [2 /*return*/, Promise.resolve({ statusCode: response.status, body: body })];\n                }\n            });\n        });\n    };\n    return BrowserTransport;\n}());\nexports.BrowserTransport = BrowserTransport;\n//# sourceMappingURL=transport.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Types = exports.getUserFeedbackScriptUrl = void 0;\nvar core_1 = require(\"@honeybadger-io/core\");\nvar util_1 = require(\"./browser/util\");\nvar onerror_1 = require(\"./browser/integrations/onerror\");\nvar onunhandledrejection_1 = __importDefault(require(\"./browser/integrations/onunhandledrejection\"));\nvar breadcrumbs_1 = __importDefault(require(\"./browser/integrations/breadcrumbs\"));\nvar events_1 = __importDefault(require(\"./browser/integrations/events\"));\nvar timers_1 = __importDefault(require(\"./browser/integrations/timers\"));\nvar event_listeners_1 = __importDefault(require(\"./browser/integrations/event_listeners\"));\nvar transport_1 = require(\"./browser/transport\");\nvar merge = core_1.Util.merge, filter = core_1.Util.filter, objectIsExtensible = core_1.Util.objectIsExtensible;\nvar getProjectRoot = function () {\n    var global = (0, util_1.globalThisOrWindow)();\n    var projectRoot = '';\n    // Cloudflare workers do not have access to location API.\n    if (global.location != null) {\n        projectRoot = global.location.protocol + '//' + global.location.host;\n    }\n    return projectRoot;\n};\nvar getUserFeedbackScriptUrl = function (version) {\n    var majorMinorVersion = version.split('.').slice(0, 2).join('.');\n    return \"https://js.honeybadger.io/v\".concat(majorMinorVersion, \"/honeybadger-feedback-form.js\");\n};\nexports.getUserFeedbackScriptUrl = getUserFeedbackScriptUrl;\nvar Honeybadger = /** @class */ (function (_super) {\n    __extends(Honeybadger, _super);\n    function Honeybadger(opts) {\n        if (opts === void 0) { opts = {}; }\n        var _this = _super.call(this, __assign({ userFeedbackEndpoint: 'https://api.honeybadger.io/v2/feedback', async: true, maxErrors: null, projectRoot: getProjectRoot() }, opts), new transport_1.BrowserTransport({\n            'User-Agent': userAgent(),\n        })) || this;\n        /** @internal */\n        _this.__errorsSent = 0;\n        /** @internal */\n        _this.__lastWrapErr = undefined;\n        /** @internal */\n        _this.__lastNoticeId = undefined;\n        /** @internal */\n        _this.__beforeNotifyHandlers = [\n            function (notice) {\n                if (_this.__exceedsMaxErrors()) {\n                    _this.logger.debug('Dropping notice: max errors exceeded', notice);\n                    return false;\n                }\n                if (notice && !notice.url && typeof document !== 'undefined') {\n                    notice.url = document.URL;\n                }\n                _this.__incrementErrorsCount();\n                return true;\n            }\n        ];\n        _this.__afterNotifyHandlers = [\n            function (_error, notice) {\n                if (notice) {\n                    _this.__lastNoticeId = notice.id;\n                }\n            }\n        ];\n        return _this;\n    }\n    Honeybadger.prototype.configure = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        return _super.prototype.configure.call(this, opts);\n    };\n    Honeybadger.prototype.resetMaxErrors = function () {\n        return (this.__errorsSent = 0);\n    };\n    Honeybadger.prototype.factory = function (opts) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var clone = new Honeybadger(opts);\n        clone.setNotifier(this.getNotifier());\n        return clone;\n    };\n    Honeybadger.prototype.checkIn = function (_id) {\n        throw new Error('Honeybadger.checkIn() is not supported on the browser');\n    };\n    Honeybadger.prototype.showUserFeedbackForm = function (options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var global;\n            return __generator(this, function (_a) {\n                if (!this.config || !this.config.apiKey) {\n                    this.logger.debug('Client not initialized');\n                    return [2 /*return*/];\n                }\n                if (!this.__lastNoticeId) {\n                    this.logger.debug(\"Can't show user feedback form without a notice already reported\");\n                    return [2 /*return*/];\n                }\n                global = (0, util_1.globalThisOrWindow)();\n                if (typeof global.document === 'undefined') {\n                    this.logger.debug('global.document is undefined. Cannot attach script');\n                    return [2 /*return*/];\n                }\n                if (this.isUserFeedbackScriptUrlAlreadyVisible()) {\n                    this.logger.debug('User feedback form is already visible');\n                    return [2 /*return*/];\n                }\n                global['honeybadgerUserFeedbackOptions'] = __assign(__assign({}, options), { apiKey: this.config.apiKey, endpoint: this.config.userFeedbackEndpoint, noticeId: this.__lastNoticeId });\n                this.appendUserFeedbackScriptTag(global, options);\n                return [2 /*return*/];\n            });\n        });\n    };\n    Honeybadger.prototype.appendUserFeedbackScriptTag = function (window, options) {\n        if (options === void 0) { options = {}; }\n        throw new Error('Yappa');\n    };\n    Honeybadger.prototype.isUserFeedbackScriptUrlAlreadyVisible = function () {\n        var global = (0, util_1.globalThisOrWindow)();\n        var feedbackScriptUrl = this.getUserFeedbackSubmitUrl();\n        for (var i = 0; i < global.document.scripts.length; i++) {\n            var script = global.document.scripts[i];\n            if (script.src === feedbackScriptUrl) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Honeybadger.prototype.getUserFeedbackSubmitUrl = function () {\n        return (0, exports.getUserFeedbackScriptUrl)(this.getVersion());\n    };\n    /** @internal */\n    Honeybadger.prototype.__buildPayload = function (notice) {\n        var cgiData = {\n            HTTP_USER_AGENT: undefined,\n            HTTP_REFERER: undefined,\n            HTTP_COOKIE: undefined\n        };\n        if (typeof navigator !== 'undefined' && navigator.userAgent) {\n            cgiData.HTTP_USER_AGENT = navigator.userAgent;\n        }\n        if (typeof document !== 'undefined' && document.referrer.match(/\\S/)) {\n            cgiData.HTTP_REFERER = document.referrer;\n        }\n        var cookiesObject;\n        if (typeof notice.cookies === 'string') {\n            cookiesObject = (0, util_1.decodeCookie)(notice.cookies);\n        }\n        else {\n            cookiesObject = notice.cookies;\n        }\n        if (cookiesObject) {\n            cgiData.HTTP_COOKIE = (0, util_1.encodeCookie)(filter(cookiesObject, this.config.filters));\n        }\n        var payload = _super.prototype.__buildPayload.call(this, notice);\n        payload.request.cgi_data = merge(cgiData, payload.request.cgi_data);\n        return payload;\n    };\n    /**\n     * wrap always returns the same function so that callbacks can be removed via\n     * removeEventListener.\n     * @internal\n     */\n    Honeybadger.prototype.__wrap = function (f, opts) {\n        if (opts === void 0) { opts = {}; }\n        var func = f;\n        if (!opts) {\n            opts = {};\n        }\n        try {\n            if (typeof func !== 'function') {\n                return func;\n            }\n            if (!objectIsExtensible(func)) {\n                return func;\n            }\n            if (!func.___hb) {\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var client_1 = this;\n                func.___hb = function () {\n                    if (util_1.preferCatch) {\n                        try {\n                            // eslint-disable-next-line prefer-rest-params\n                            return func.apply(this, arguments);\n                        }\n                        catch (err) {\n                            if (client_1.__lastWrapErr === err) {\n                                throw (err);\n                            }\n                            client_1.__lastWrapErr = err;\n                            (0, onerror_1.ignoreNextOnError)();\n                            client_1.addBreadcrumb(opts.component ? \"\".concat(opts.component, \": \").concat(err.name) : err.name, {\n                                category: 'error',\n                                metadata: {\n                                    message: err.message,\n                                    name: err.name,\n                                    stack: err.stack\n                                }\n                            });\n                            if (client_1.config.enableUncaught) {\n                                client_1.notify(err);\n                            }\n                            throw (err);\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line prefer-rest-params\n                        return func.apply(this, arguments);\n                    }\n                };\n            }\n            func.___hb.___hb = func.___hb;\n            return func.___hb;\n        }\n        catch (_e) {\n            return func;\n        }\n    };\n    /** @internal */\n    Honeybadger.prototype.__incrementErrorsCount = function () {\n        return this.__errorsSent++;\n    };\n    /** @internal */\n    Honeybadger.prototype.__exceedsMaxErrors = function () {\n        return this.config.maxErrors && this.__errorsSent >= this.config.maxErrors;\n    };\n    return Honeybadger;\n}(core_1.Client));\nvar NOTIFIER = {\n    name: '@honeybadger-io/js',\n    url: 'https://github.com/honeybadger-io/honeybadger-js/tree/master/packages/js',\n    version: '__VERSION__'\n};\nvar userAgent = function () {\n    if (typeof navigator !== 'undefined') {\n        return \"Honeybadger JS Browser Client \".concat(NOTIFIER.version, \"; \").concat(navigator.userAgent);\n    }\n    return \"Honeybadger JS Browser Client \".concat(NOTIFIER.version, \"; n/a; n/a\");\n};\nvar singleton = new Honeybadger({\n    __plugins: [\n        (0, onerror_1.onError)(),\n        (0, onunhandledrejection_1.default)(),\n        (0, timers_1.default)(),\n        (0, event_listeners_1.default)(),\n        (0, breadcrumbs_1.default)(),\n        (0, events_1.default)(),\n    ]\n});\nsingleton.setNotifier(NOTIFIER);\nvar core_2 = require(\"@honeybadger-io/core\");\nObject.defineProperty(exports, \"Types\", { enumerable: true, get: function () { return core_2.Types; } });\nexports.default = singleton;\n//# sourceMappingURL=browser.js.map"],"names":["UNKNOWN_FUNCTION","chromeRe","chromeEvalRe","winjsRe","geckoRe","geckoEvalRe","javaScriptCoreRe","nodeRe","stackString","split","reduce","stack","line","parseResult","parts","exec","isNative","indexOf","isEval","submatch","file","methodName","arguments","lineNumber","column","parseChrome","parseWinjs","parseGecko","parseNode","parseJSC","push","__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","op","TypeError","pop","length","exports","isBrowserConfig","clone","formatCGIData","filterUrl","filter","generateStackTrace","endpoint","instrumentConsole","instrument","isErrorObject","makeNotice","logger","sanitize","shallowClone","runBeforeNotifyHandlers","getSourceForBacktrace","getCauses","calculateBacktraceShift","DEFAULT_BACKTRACE_SHIFT","makeBacktrace","objectIsExtensible","objectIsEmpty","mergeNotice","merge","stackTraceParser","require$$0","obj1","obj2","filterHbSourceCode","console","backtrace","parse","map","method","number","splice","err","debug","isFrameFromHbSourceCode","frame","hasHbFile","hasHbMethod","toLowerCase","shift","i","nextFrame","obj","thing","Error","toString","object","name","replacement","original","__hb_original","_e","notice1","notice2","context","isExtensible","notice","cause","causes","class","message","getSourceFileHandler","index","trace","fileContent","_a","fileData","sourceRadius","lines","unshift","end","getSourceCodeSnippet","handlers","results","len","handlerResult","handler","runAfterNotifyHandlers","error","afterNotify","maxDepth","seenObjects","serialize","depth","typeOfObj","test","canSerialize","seen","Array","isArray","safeSerialize","ret","concat","client","log","args","_i","config","info","warn","String","_consoleAlreadyInstrumented","listeners","filterMatch","key","filters","is","type","klass","slice","_window","forEach","level","listener","Function","base","path","trim","replace","curr","callee","RegExp","$1","caller","join","newObj","url","query","pair","vars","prefix","formattedVars","keys","formattedKey","toUpperCase","JSON","stringify","async","store","GlobalStore","util_1","contents","breadcrumbsLimit","available","getContents","setContext","addBreadcrumb","breadcrumb","breadcrumbs","clear","run","callback","data","item","defaults","CONFIG","apiKey","environment","hostname","projectRoot","component","action","revision","reportData","breadcrumbsEnabled","eventsEnabled","maxBreadcrumbs","maxObjectDepth","developmentEnvironments","tags","enableUncaught","enableUnhandledRejection","afterUncaught","__plugins","__assign","assign","s","p","throttled_events_logger","ThrottledEventsLogger","json_nd_1","require$$1","defaults_1","require$$2","transport","queue","isProcessing","originalLogger","configure","opts","logEvent","processQueue","_this","eventsData","NdJson","makeHttpRequest","setTimeout","catch","send","headers","_b","_c","_d","Client","store_1","throttled_events_logger_1","require$$3","TAG_SEPARATOR","NOT_BLANK","__pluginsLoaded","__store","__beforeNotifyHandlers","__afterNotifyHandlers","__notifier","version","__initStore","__transport","__eventsLogger","getVersion","getNotifier","setNotifier","notifier","loadPlugins","plugin","shouldReloadOnConfigure","load","beforeNotify","resetContext","notify","noticeable","extra","sourceCodeData","preConditionsResult","__runPreconditions","__send","_err","notifyAsync","objectToOverride","partialNotice","originalAfterNotify","noticeTags","__constructTags","contextTags","configTags","uniqueTags","metadata","category","timestamp","Date","toISOString","__getBreadcrumbs","__getContext","__developmentMode","includes","__buildPayload","cgiData","enabled","trail","__breadcrumbs","fingerprint","request","cgi_data","params","session","server","project_root","environment_name","time","toUTCString","details","tag","preConditionError","beforeNotifyResult","some","allSettled","status","originalBacktrace","__getSourceFileHandler","sourcePerTrace","payload","source","Accept","res","statusCode","uuid","id","types","__exportStar","Util","Types","client_1","stringNameOfElement","element","tagName","stringClassNames","getAttribute","className","attrName","attr","siblings","nodes","parentNode","childNodes","siblings_1","node","getSiblings","func","parseURL","match","protocol","host","pathname","globalThisOrWindow","globalThis","self","window","util","encodeCookie","decodeCookie","nativeFetch","stringSelectorOfElement","parentName","stringTextOfElement","text","textContent","innerText","string","substr","truncate","global","fetch","document","sandbox","createElement","style","display","head","appendChild","contentWindow","removeChild","localURLPathname","parsed","parsedDocURL","URL","cookies","preferCatch","atob","ErrorEvent","colno","onerror","onError","ignoreNextOnError","currentTimeout","core_1","ignoreOnError","clearTimeout","msg","col","onunhandledrejection","default","promiseRejectionEvent","reason","stackFallback","addEventListener","event","selector","target","location","XMLHttpRequest","rawUrl","__hb_xhr","xhr","onreadystatechangeHandler","readyState","status_code","onreadystatechange","input","Request","response","lastHref","href","_event","recordUrlChange","history","historyWrapper","from","to","events","sendEventsToInsights","timers","instrumentTimer","wrapOpts","delay","args_1","__wrap","event_listeners","prop","useCapture","wantsUntrusted","handleEvent","BrowserTransport","defaultHeaders","options","headerArray","requestInit","entries","extendStatics","__extends","d","b","setPrototypeOf","__proto__","__","constructor","__importDefault","getUserFeedbackScriptUrl","onerror_1","onunhandledrejection_1","breadcrumbs_1","require$$4","events_1","require$$5","timers_1","require$$6","event_listeners_1","require$$7","transport_1","require$$8","getProjectRoot","majorMinorVersion","Honeybadger","_super","userFeedbackEndpoint","maxErrors","userAgent","__errorsSent","__lastWrapErr","__lastNoticeId","__exceedsMaxErrors","__incrementErrorsCount","_error","resetMaxErrors","factory","checkIn","_id","showUserFeedbackForm","isUserFeedbackScriptUrlAlreadyVisible","noticeId","appendUserFeedbackScriptTag","feedbackScriptUrl","getUserFeedbackSubmitUrl","scripts","src","cookiesObject","HTTP_USER_AGENT","HTTP_REFERER","HTTP_COOKIE","navigator","referrer","___hb","NOTIFIER","singleton","core_2"],"mappings":"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"}